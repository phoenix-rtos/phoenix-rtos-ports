diff -ruN a/configure.ac b/configure.ac
--- a/configure.ac	2025-02-19 14:48:18.276317308 +0100
+++ b/configure.ac	2025-02-19 14:50:53.284078776 +0100
@@ -397,8 +397,6 @@
 XERRORDB="${X11_DATADIR}/XErrorDB"
 AX_DEFINE_DIR(XERRORDB, XERRORDB, [Location of error message database])
 
-XORG_CHECK_MALLOC_ZERO
-
 AC_CONFIG_FILES([Makefile
 		include/Makefile
 		man/Makefile
diff -ruN a/include/X11/Xlibint.h b/include/X11/Xlibint.h
--- a/include/X11/Xlibint.h	2025-02-19 14:48:18.273317311 +0100
+++ b/include/X11/Xlibint.h	2025-02-19 16:12:03.524420538 +0100
@@ -1441,4 +1441,9 @@
 
 _XFUNCPROTOEND
 
+#ifdef __phoenix__
+#define mbtowc(pwc, str_ptr, n) (-1)
+#define mblen(a, b) (-1)
+#endif
+
 #endif /* _X11_XLIBINT_H_ */
