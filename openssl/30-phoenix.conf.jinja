#phoenix

my %targets = (
	"phoenix" => {
		template         => 1,
		inherit_from     => [ "BASE_unix" ],
		sys_id           => "PHOENIX_RTOS",
		defines          => add("OPENSSL_SYS_PHOENIX"),
		disable          => [ "dynamic-engine", "pic", "shared", "threads", "tests", "tls1_3" ],
		enable           => [ "epoll", "pktinfo" ],
	},
	"{{ env.OPENSSL_TARGET }}" => {
{% if env.OPENSSL_TARGET == "phoenix-armv7a7-imx6ull" %}
		inherit_from     => [ "phoenix", asm("armv4_asm") ],
{% elif env.OPENSSL_TARGET == "phoenix-ia32-generic" %}
		inherit_from     => [ "phoenix", asm("x86_elf_asm") ],
{% elif env.OPENSSL_TARGET == "phoenix-riscv64-generic" %}
		inherit_from     => [ "phoenix" ],
{% endif %}
		cc               => "{{ env.CC }}",
		ld               => "{{ env.LD }}",
		ranlib           => "{{ env.CROSS }}gcc-ranlib",
		arflags          => "-r",
		cflags           => "{{ env.CFLAGS }}",
		lflags           => "{{ env.LDFLAGS }}"
	},
);
